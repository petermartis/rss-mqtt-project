#\!/bin/bash
echo ""
echo -e "\033[0;35mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\033[0m"
echo -e "\033[0;35m                  ğŸ“¡ SUBSCRIBED RSS CHANNELS ğŸ“¡                  \033[0m"
echo -e "\033[0;35mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\033[0m"
echo ""

if [ \! -f ~/.newsboat/urls ]; then
    echo -e "\033[0;31mNo RSS channels configured\033[0m"
    echo ""
    exit 1
fi

grep -E "^https?://" ~/.newsboat/urls | while IFS= read -r line; do
    url=$(echo "$line" | awk '{print $1}')
    tags=$(echo "$line" | sed 's/^[^ ]* *//' | tr -d '"')
    
    echo -e "\033[0;32mâ€¢\033[0m \033[0;34m$url\033[0m"
    [[ -n "$tags" ]] && echo -e "  \033[0;36m$tags\033[0m"
    echo ""
done

echo -e "\033[0;35mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\033[0m"
echo ""
